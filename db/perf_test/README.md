# отправка сообщений
```
  2 threads and 10 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     5.12ms    3.67ms  87.38ms   93.66%
    Req/Sec     1.06k   150.86     1.26k    75.10%
  105221 requests in 50.04s, 42.95MB read
Requests/sec:   2102.71
Transfer/sec:      0.86MB
```

Отправка сообщений демонстрирует высокую производительность и стабильность при нагрузочном тестировании: средняя задержка составляет всего ~5 мс, а пропускная способность превышает 2100 запросов в секунду без ошибок и таймаутов.

# итерация 1

## просмотр сообщений
```
  2 threads and 10 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.67s   220.75ms   1.98s    63.11%
    Req/Sec     4.95      5.08    30.00     94.95%
  240 requests in 50.03s, 5.74GB read
  Socket errors: connect 0, read 0, write 0, timeout 137
Requests/sec:      4.80
Transfer/sec:    117.50MB
```

Очень высокая задержка и количество таймаутов указывают на неэффективную реализацию получения сообщений. Отсутствует пагинация или возвращается слишком большой объем данных.

## Планируемые улучшения:

- Добавление **пагинации** (limit + offset или cursor-based)
- Использование **индексов** по `chat_id`, `sent_at`
- **Оптимизация SQL-запросов**, исключение избыточных JOIN'ов

# итерация 2

## просмотр сообщений
```
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     6.12ms    6.84ms 113.81ms   94.32%
    Req/Sec     0.97k   227.23     1.34k    78.10%
  96803 requests in 50.09s, 582.16MB read
Requests/sec:   1932.68
Transfer/sec:     11.62MB
```

После всех улучшений задержка уменьшилась с 1.67s до 6.12ms. Теперь API стабильно выдерживает высокую нагрузку (~1900 RPS).